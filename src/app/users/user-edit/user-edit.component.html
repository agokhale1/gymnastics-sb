<form [formGroup]="editForm" (ngSubmit)="update()">
    <div class="form-group">
        <input type="text" formControlName="login" class="form-control mt-2 mb-2" [ngClass]="{'is-invalid': submitted && form.login.errors}"
            value="{{ user.login }}" placeholder="Username" autofocus>
        <div *ngIf="submitted && form.login.errors" class="invalid-feedback">
            <div *ngIf="form.login.errors.required">Username is required</div>
            <div *ngIf="form.login.errors.minlength">Username must be at least 3 characters</div>
        </div>
    </div>

    <div class="form-group">
        <input type="password" formControlName="password" class="form-control mt-1 mb-1" [ngClass]="{'is-invalid': submitted && form.password.errors}"
            placeholder="Password">
        <div *ngIf="submitted && form.password.errors" class="invalid-feedback">
            <div *ngIf="form.password.errors.required">Password is required</div>
            <div *ngIf="form.password.errors.minlength">Password must be at least 6 characters</div>
        </div>
    </div>

    <div class="form-group">
        <select formControlName="auth_level" class="form-control mt-1 mb-2" [ngClass]="{'is-invalid': submitted && form.auth_level.errors}">
            <option *ngFor="let level of levels()" value="{{ level }}" [selected]="user && user.auth_level == level">{{
                roles[level] }}</option>
        </select>
    </div>

    <div class="form-group">
        <button type="button" class="btn m-4" (click)="cancel()">Cancel</button>
        <button type="submit" class="btn" [disabled]="loading">Save</button>
    </div>
</form>